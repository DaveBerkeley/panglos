digraph cpp {
node [shape=record];
Mutex [label="{Mutex|lock()\nunlock()}"];
SPI [label="{SPI|write()\nio()}"];
ESP_SPI [label="{ESP_SPI|// ESP32 HAL specific}", style=filled, fillcolor="lightgrey"];
STM32_SPI [label="{STM_SPI|// STM32 HAL specific}", style=filled, fillcolor="azure"];
SysMutex [label="{SysMutex|// FreeRTOS specific}", style=filled, fillcolor="beige"];
RTC [label="{RTC|get()\nset()}"];
DS3231 [label="{DS3231|// implementation}"];
{ rank=same SPI, RTC, SysMutex };
{ rank=same STM32_SPI, ESP_SPI, DS3231 };
    Mutex -> SPI [arrowhead = ediamond];
    SysMutex -> Mutex [arrowhead = empty];
    DS3231 -> RTC [arrowhead = empty];
    SPI -> DS3231 [arrowhead = ediamond];
    ESP_SPI -> SPI [arrowhead = empty];
    STM32_SPI -> SPI [arrowhead = empty];
}
